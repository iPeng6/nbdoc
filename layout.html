<template page>
  <style>
    :host {
      display: block;
      width: 100%;
      height: 100%;
    }

    .sidebar {
      position: fixed;
      top: 0;
      bottom: 0;
      left: 0;
      width: 300px;
      padding: 0 16px;

      border-right: 1px solid rgba(0, 0, 0, 0.07);
      overflow-y: auto;
      z-index: 20;
    }

    .main {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 300px;
      padding-bottom: 300px;
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 16px;
      padding: 8px 0;
      font-size: 20px;
      font-weight: 600;
      border-bottom: 1px solid rgba(0, 0, 0, 0.07);

      .logo {
        /* border: 2px solid rgb(163, 163, 248); */
        border-radius: 100%;
        box-shadow: 0 0 10px rgb(115, 115, 249);
      }
      .nick-name {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI";
        font-size: 34px;
        background: linear-gradient(20deg, #fd3939, #ff7f00, #afaf82, #fec2c2);
        background-clip: text;
        -webkit-text-fill-color: transparent;
      }
    }
    .menu {
      padding-top: 16px;
    }
  </style>

  <div class="container">
    <div class="sidebar">
      <div class="header">
        <img
          class="logo"
          src="./dylogo.png"
          alt="抖音：神农尝百码"
          width="88"
          height="88"
        />

        <span class="nick-name">神农尝百码</span>
      </div>
      <div class="menu">
        <l-md src="./doc/sidebar.md"></l-md>
      </div>
    </div>
    <div class="main">
      <slot></slot>
    </div>
  </div>
  <script>
    export default {
      data: {
        currentPage: "",
      },
      proto: {
        refreshActive() {
          this.currentPage = this.app.current.src.replace(
            /.+\/(.+)\.html/,
            "$1",
          );
        },
      },
      attached() {
        this.refreshActive();
      },
      routerChange() {
        this.refreshActive();
      },
    };
  </script>
</template>
